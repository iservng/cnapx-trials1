"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcnapx_trials"] = self["webpackChunkcnapx_trials"] || []).push([["src_modal_handlers_process_create_account_form_js"],{

/***/ "./src/modal/handlers/process_create_account_form.js":
/*!***********************************************************!*\
  !*** ./src/modal/handlers/process_create_account_form.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateUserAccount: () => (/* binding */ CreateUserAccount)\n/* harmony export */ });\n/* harmony import */ var _utils_small_spinner_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/small_spinner.js */ \"./src/utils/small_spinner.js\");\n/* harmony import */ var _utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/toast_it.js */ \"./src/utils/toast_it.js\");\n/* harmony import */ var _utils_lower_remv_spaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/lower_remv_spaces.js */ \"./src/utils/lower_remv_spaces.js\");\n/* harmony import */ var _test_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../test.js */ \"./src/test.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/auth */ \"./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var _utils_insert_into_DOM_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/insert_into_DOM.js */ \"./src/utils/insert_into_DOM.js\");\n\r\n\r\n/**\r\n * THIS CLASS RECIEVE THE FORM OBJECT FOR CREATE-ACCOUNT\r\n * -------------------------------------------------------\r\n * Then user its internal methods for the processing of the form.\r\n * \r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CreateUserAccount \r\n{\r\n    #_mErrors;\r\n    #mErrorMsg;\r\n    #form;\r\n    #userData;\r\n    constructor(createAcctForm)\r\n    {\r\n        this.#_mErrors = 0;\r\n        this.#mErrorMsg = ``;\r\n    \r\n        if(!createAcctForm)\r\n        {\r\n            this.#_mErrors++;\r\n            this.#mErrorMsg = ``;\r\n            (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', 'Invalid form submission');\r\n        }\r\n        else \r\n        {\r\n            let namePattern = /^([a-zA-Z]{3,20})(\\s)([a-zA-z]{3,20})(\\s)?([a-zA-Z]{3,20})?$/;\r\n            let phonePattern = /^(0)([7-9])([0-1])(\\d){8}$/;\r\n            let bvnPattern = /^[\\d]{11}$/;\r\n            let emailPatern = /^[a-zA-Z0-9@\\.-]{3,30}$/;\r\n            let passwordPatern = /^[a-zA-Z0-9@]{6,25}$/;\r\n\r\n            this.#form = createAcctForm;\r\n            if(!namePattern.test(this.#form.fullname.value.trim()))\r\n            {\r\n                \r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = \"Your full name is required!\";\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n                return;\r\n            }\r\n            else if(!phonePattern.test(this.#form.phone.value.trim()))\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = 'Phone number is required!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            }\r\n            else if(!bvnPattern.test(this.#form.bvn.value.trim()))\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = 'Your BVN number is required!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            }\r\n            else if(!emailPatern.test(this.#form.email.value.trim()))\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = this.#form.email.value + ' is Invalid!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n\r\n            }\r\n            else if(!passwordPatern.test(this.#form.password.value.trim()))\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = 'Your password is Invalid!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            }\r\n            else if(!this.#form.btnAction.value.trim())\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = 'Action not found!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            }\r\n            \r\n            else \r\n            {\r\n\r\n                this.#userData = {\r\n                    name: this.#form.fullname.value.trim(),\r\n                    phone: this.#form.phone.value.trim(),\r\n                    bvn: this.#form.bvn.value.trim(),\r\n                    email: this.#form.email.value.trim(),\r\n                    password: this.#form.password.value.trim()\r\n                };\r\n\r\n                /**\r\n                 * Make it available in the user session\r\n                 */\r\n                sessionStorage.setItem('btnAction', this.#form.btnAction.value);\r\n                sessionStorage.setItem('customerInfo', JSON.stringify(this.#userData));\r\n                \r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    #removeModal()\r\n    {\r\n        //Remove Modal\r\n        let modals = document.querySelectorAll('.modal');\r\n        modals.forEach(instance => {\r\n            let inst = M.Modal.getInstance(instance);\r\n            inst.close();\r\n        })\r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n\r\n    #errorReport()\r\n    {\r\n        // smallSpinner('Working...', '#createAcountDiv');\r\n        let content = `\r\n            <div class=\"row\">\r\n                <div class=\"col s12\">\r\n                    <div class=\"card pink lighten-5 z-depth-0\">\r\n                    <div class=\"card-content red-text\">\r\n                        <span class=\"card-title\">Error!</span>\r\n                        <p>\r\n                            It looks like your device does not have a proper network connection.\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"card-action\">\r\n                        <a href=\"#\" class=\"btn-small red darken-3 removeModal\">This is True</a>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n        (0,_utils_insert_into_DOM_js__WEBPACK_IMPORTED_MODULE_6__.insertIntoDOM)('#createAcountDiv', content);\r\n\r\n\r\n\r\n        if(document.querySelector('.removeModal'))\r\n        {\r\n            document.querySelector('.removeModal').addEventListener('click', e => {\r\n                e.preventDefault();\r\n                this.#removeModal();\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    /*******************\r\n     * Public API\r\n     * 704 x 371 modal dimenssion\r\n     */\r\n    checkCredentials()\r\n    {\r\n        if(this.#_mErrors == 0)\r\n        {\r\n            if(document.querySelector('#createAcountDiv'))\r\n            {\r\n                (0,_utils_small_spinner_js__WEBPACK_IMPORTED_MODULE_0__.smallSpinner)('Working...', '#createAcountDiv');\r\n\r\n                /**\r\n                 * Things that will happen from this moment on are follows\r\n                 * 1. This user's phone and name will be used to formulate an email address and a password for this user.\r\n                 * onyeka Obiora Chinedu\r\n                 * 08102848626\r\n                 */\r\n                // let name = lowAndRemvSpce(this.#userData['name']);\r\n                // let phone = lowAndRemvSpce(this.#userData['phone']);\r\n\r\n                // //Create the user email and password\r\n                // let ep = getEmailAndPassword(name, phone);\r\n                // console.log(ep.email);\r\n                // console.log(ep.password);\r\n                \r\n\r\n                // //Add Email and password to user data\r\n                // this.#userData['email'] = ep.email;\r\n                // this.#userData['password'] = ep.password;\r\n\r\n\r\n                //Create Authentication for this user.\r\n                // let auth = getAuth();\r\n                // createUserWithEmailAndPassword(auth, ep.email, ep.password)\r\n                // .then(userCredentials => {\r\n\r\n                //     let user = userCredentials.user;\r\n                //     let id = user.uid;\r\n                //     console.log(user);\r\n\r\n                //     /*\r\n                //         After a user(customer) has created account, \r\n                //         1. Save customer info or data in customers collection\r\n                //     */\r\n                //    let colRef = collection(getFirestore(), 'customer');\r\n                //    addDoc(colRef, this.#userData)\r\n                //    .then(snapshot => {\r\n                //         snapshot.id\r\n                //         console.log(snapshot.id);\r\n                //    })\r\n                //    .catch(error => {\r\n                //         console.log(error.code);\r\n                //         console.log(error.message);\r\n                //    });\r\n\r\n\r\n                // })\r\n                // .catch(error => {\r\n                //     console.log(error.code);\r\n                //     console.log(error.message);\r\n                //     toastIt('red', 'Unexpected Error! please try again leter!3');\r\n                //     this.#errorReport();\r\n                // });\r\n\r\n\r\n\r\n\r\n                // =========================\r\n                //Call the user-account-profile class to display a user-profile..\r\n\r\n                /**\r\n                 * JUST befor we display the customer profile dashboard, we need to ask the customer if he or she is registering as a marchant or as an indivdual.\r\n                 * \r\n                 */\r\n                // import('../../main/customer_profile_dashboard.js')\r\n                // .then(m => {\r\n\r\n                //     let customerProfile = new m.CustomerProfileDashboard();\r\n                //     customerProfile.createUi();\r\n\r\n                // })\r\n                // .catch(error => {\r\n                //     console.log(error.message);\r\n                //     toastIt('red', 'Unexpect error, please try again leter!2');\r\n                // });\r\n                __webpack_require__.e(/*! import() */ \"src_modal_handlers_customer_registration_type_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../modal/handlers/customer_registration_type.js */ \"./src/modal/handlers/customer_registration_type.js\"))\r\n                .then(m => {\r\n                    let customerType = new m.CustomerRegisterType();\r\n                    customerType.createUi();\r\n                })\r\n                .catch(error => {\r\n                    console.log(error.message);\r\n                    (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', 'Unexpected Customer type not found');\r\n                });\r\n                // --------------------------------\r\n\r\n\r\n                \r\n\r\n\r\n            }\r\n\r\n        }\r\n        else \r\n        {\r\n            (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            console.log(this.#mErrorMsg);\r\n        }\r\n\r\n    }\r\n\r\n\r\n}\r\n\n\n//# sourceURL=webpack://cnapx-trials/./src/modal/handlers/process_create_account_form.js?");

/***/ }),

/***/ "./src/test.js":
/*!*********************!*\
  !*** ./src/test.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEmailAndPassword: () => (/* binding */ getEmailAndPassword)\n/* harmony export */ });\n\r\n// let namePattern = /^([a-zA-Z]{3,20})(\\s)([a-zA-z]{3,20})(\\s)?([a-zA-Z]{3,20})?$/;\r\n// let phonePattern = /^(0)([7-9])([0-1])(\\d){8}$/;\r\n// let name = 'Babangida Usman tooman';\r\n// console.log(namePattern.test(name));\r\n\r\n// let phone = '08134899043';\r\n// console.log(phonePattern.test(phone));\r\n\r\nlet name = 'babangidausmantooman';\r\nlet phone = '08134899043';\r\n\r\nfunction getEmailAndPassword(name, phone)\r\n{\r\n    let phone1part = phone.substring(0, 6);\r\n    let phone2part = phone.substring(phone1part.length);\r\n\r\n    let name1part = name.substring(0, 6);\r\n    let name2part = name.substring(name1part.length);\r\n\r\n    let email = name1part+phone2part+'@gmail.com';\r\n    let password = name2part+phone1part;\r\n    return { email, password };\r\n\r\n}\r\n\r\n\r\n\r\nlet re = getEmailAndPassword(name, phone);\r\n// console.log(re.email);\r\n// console.log(re.password);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://cnapx-trials/./src/test.js?");

/***/ }),

/***/ "./src/utils/lower_remv_spaces.js":
/*!****************************************!*\
  !*** ./src/utils/lower_remv_spaces.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   lowAndRemvSpce: () => (/* binding */ lowAndRemvSpce)\n/* harmony export */ });\n\r\nfunction lowAndRemvSpce(str) { \r\n    return str.replace(/\\s/g, '').toLowerCase(); \r\n}\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://cnapx-trials/./src/utils/lower_remv_spaces.js?");

/***/ })

}]);