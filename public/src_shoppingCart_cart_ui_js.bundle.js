"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcnapx_trials"] = self["webpackChunkcnapx_trials"] || []).push([["src_shoppingCart_cart_ui_js"],{

/***/ "./src/shoppingCart/cart_ui.js":
/*!*************************************!*\
  !*** ./src/shoppingCart/cart_ui.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CartUI: () => (/* binding */ CartUI)\n/* harmony export */ });\n/* harmony import */ var _utils_insert_into_DOM__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/insert_into_DOM */ \"./src/utils/insert_into_DOM.js\");\n/* harmony import */ var _utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/toast_it.js */ \"./src/utils/toast_it.js\");\n/* harmony import */ var _sample_data_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sample_data.js */ \"./src/shoppingCart/sample_data.js\");\n\r\n\r\n\r\n\r\nclass CartUI \r\n{\r\n    #_mErrors;\r\n    #mErrorMsg;\r\n    #basket;\r\n    #sampleProductData;\r\n    constructor()\r\n    {\r\n        this.#_mErrors = 0;\r\n        this.#mErrorMsg = '';\r\n        // this.#basket = JSON.parse(localStorage.getItem(''))\r\n        this.#sampleProductData = _sample_data_js__WEBPACK_IMPORTED_MODULE_2__.sampleProductData;\r\n        this.#basket = JSON.parse(localStorage.getItem('cartData')) || [];\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    //Class Public API\r\n    createUi()\r\n    {\r\n        if(this.#_mErrors === 0)\r\n        {\r\n            let content = `\r\n            <div class=\"container\">\r\n\r\n            <div class=\"row\" style=\"margin-top: 3rem;\">\r\n\r\n                <!-- USER-PROFILE-AVARTAR  -->\r\n                <div class=\"col s12\">\r\n                    \r\n                    <p>\r\n                        <a href=\"#\" class=\"back-to-shop\">\r\n                            &larr; Back to Shop\r\n                        </a>\r\n                    </p>\r\n                    <b>\r\n                        <a href=\"#\" class=\"sidenav-trigger purple-text text-darken-4\" data-target=\"mobile-demo\">\r\n                            menu\r\n                        </a>\r\n                    </b>\r\n                </div>\r\n\r\n\r\n                <!-- FIRST SECTION OF DASHBOARD  -->\r\n                <div class=\"col s12\" style=\"margin-bottom: 2rem; margin-top: 3rem;\">\r\n                    <div class=\"row\">\r\n\r\n                        <div class=\"col s12 m8 l8\">\r\n                            <div class=\"card-panel purple lighten-5 z-depth-0\">\r\n                                <span class=\"purple-text text-darken-3\">\r\n                                    <h5><b>Cart Invoice</b></h5>\r\n                                    <small>Ensure to check out on the right</small>\r\n                                </span>\r\n                                <p>\r\n                                    <a class=\"btn-small purple\" href=\"#\">CLEAR INVOICE</a>\r\n                                </p>\r\n                            </div>\r\n                            <!-- ================= -->\r\n                            <ul class=\"collection purple lighten-5\" id=\"cartItemHolder\">\r\n                                \r\n                            </ul>\r\n                                     \r\n                            <!-- ================= -->\r\n                            <div class=\"card-panel purple lighten-5 z-depth-0\" style=\"border: 1px solid #f3e5f5;\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col s12\">\r\n                                        This div is 12-columns wide on all screen sizes\r\n                                    </div>\r\n                                    <div class=\"col s6\">\r\n                                        <b>Invoice Total:</b>\r\n                                    </div>\r\n                                    <div class=\"col s6 right-align\">\r\n                                        <h6>\r\n                                            <b class=\"purple-text text-darken-3 grand_total\">\r\n                                                N 0.00\r\n                                            </b>\r\n                                        </h6>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"col s12 m4 l4\" id=\"checkout\">\r\n                            <div class=\"card-panel z-depth-0\" style=\"border: 1px solid #f3e5f5;\">\r\n                                <span class=\"purple-text text-darken-3\">\r\n                                    <p>\r\n                                        \r\n                                        <h5 class=\"purple-text\">CheckOut</h5>\r\n                                    </p>\r\n\r\n                                    <table>\r\n                                        <thead>\r\n                                        <tr>\r\n                                            <th>Name</th>\r\n                                            <th>Price</th>\r\n                                        </tr>\r\n                                        </thead>\r\n\r\n                                        <tbody>\r\n                                        <tr>\r\n                                            <td>Grand Total</td>\r\n                                            <td class=\"grand_total\">0.00</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>VAT</td>\r\n                                            <td>N 0.00</td>\r\n                                        </tr>\r\n                                        <tr>\r\n                                            <td>Shipping</td>\r\n                                            <td>N 0.00</td>\r\n                                        </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n\r\n\r\n                                    <p>\r\n                                        <a href=\"#\" class=\"btn green darken-3\">Pay with cnapx</a>\r\n                                    </p>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>        \r\n                </div>\r\n\r\n\r\n\r\n\r\n\r\n                \r\n\r\n                <div class=\"col s12 right-align\" style=\"margin-top: 6rem;\">\r\n                    <p>\r\n                        <div class=\"divider\"></div>\r\n                    </p>\r\n                    <small class=\"grey-text\">Powered by </small>\r\n                    <b class=\"purple-text text-darken-3\">\r\n                        iservng\r\n                    </b>\r\n                </div>\r\n                \r\n                \r\n\r\n            </div>\r\n\r\n        </div>\r\n            `;\r\n            (0,_utils_insert_into_DOM__WEBPACK_IMPORTED_MODULE_0__.insertIntoDOM)('main', content);\r\n\r\n            this.#generateCartUiItems();\r\n\r\n            // =======================\r\n            //Event handler for the back to shop btn\r\n            if(document.querySelector('.back-to-shop'))\r\n            {\r\n                let backBtn = document.querySelector('.back-to-shop');\r\n                backBtn.addEventListener('click', e => {\r\n                    e.preventDefault();\r\n                    __webpack_require__.e(/*! import() */ \"src_shoppingCart_shopping_cart_home_page_js-_1cad1\").then(__webpack_require__.bind(__webpack_require__, /*! ./shopping_cart_home_page.js */ \"./src/shoppingCart/shopping_cart_home_page.js\"))\r\n                    .then(m => {\r\n                        let shop = new m.ShoppingCartHomePage();\r\n                        shop.createUi();\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error.message);\r\n                    })\r\n                })\r\n            }\r\n            // =======================\r\n            \r\n\r\n        }\r\n        else \r\n        {\r\n            (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            console.log(this.#mErrorMsg);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //UI utility function for manipulations\r\n    #generateCartUiItems()\r\n    {\r\n\r\n        if(this.#basket.length !== 0)\r\n        {\r\n            // console.log(\"Basket Full\");\r\n            if(document.querySelector('#cartItemHolder'))\r\n            {\r\n                let cartItemOutput = ``;\r\n                this.#basket.forEach(product => {\r\n                    let {id, item } = product;\r\n                    let search = this.#sampleProductData.find(inventory => inventory.id === id);\r\n                    let total = search.price * item;\r\n                    cartItemOutput += `\r\n                        <li class=\"collection-item avatar purple lighten-5\">\r\n                            <img src=${search.img} alt=\"\" class=\"circle\">\r\n                            <span class=\"title\"><small><b class=\"grey-text text-darken-3\">${search.name}</b></small></span>\r\n                            <p><small><b>N ${search.price}</b></small> <br>\r\n\r\n                                    <a href=\"#\" class=\"decrement\" data-decrementid=${id}>\r\n                                        &minus;\r\n                                    </a>\r\n\r\n                                    <span>&nbsp;</span>\r\n                                    <span>&nbsp;</span>\r\n\r\n                                    <a href=\"#\" id=${id}>\r\n                                        ${item}\r\n                                    </a>\r\n\r\n                                    <span>&nbsp;</span>\r\n                                    <span>&nbsp;</span>\r\n\r\n                                    <a href=\"#\" class=\"increment\" data-incrementid=${id}>\r\n                                        +\r\n                                    </a>\r\n\r\n                                    <span>&nbsp;</span>\r\n                                    <span>&nbsp;</span>\r\n                                    <span>&nbsp;</span>\r\n\r\n                                    <small>\r\n                                        <a href=\"#\" class=\"red-text remove_item\" data-removeid=${id}>Remove</a>\r\n                                    </small>\r\n                            </p>\r\n                            \r\n                            <a href=\"#!\" class=\"secondary-content\">\r\n                                <i class=\"black-text\">N ${total}</i>\r\n                            </a>\r\n                            \r\n                        </li>\r\n                    `;\r\n                });\r\n                document.querySelector('#cartItemHolder').innerHTML = cartItemOutput;\r\n\r\n                this.#cartGrandTotalForCheckout();\r\n\r\n\r\n                // =======================\r\n                //Remove Item from cart\r\n                if(document.querySelectorAll('.remove_item'))\r\n                {\r\n                    let removeItemBtns = document.querySelectorAll('.remove_item');\r\n                    removeItemBtns.forEach(btn => {\r\n                        btn.addEventListener('click', e => {\r\n                            e.preventDefault();\r\n                            this.#removeItemFromCart(e);\r\n                        });\r\n                    });\r\n                }\r\n                // =======================\r\n                // Increment\r\n                if(document.querySelectorAll('.increment'))\r\n                {\r\n                    let incrementBtns = document.querySelectorAll('.increment');\r\n                    incrementBtns.forEach(btn => {\r\n                        btn.addEventListener('click', e => {\r\n                            e.preventDefault();\r\n                            this.#incrementQuantity(e);\r\n                        });\r\n                    });\r\n                }\r\n\r\n                //Register Event-Handlers for decrement and Increment\r\n                if(document.querySelectorAll('.decrement'))\r\n                {\r\n                    let decrementBtns = document.querySelectorAll('.decrement');\r\n                    decrementBtns.forEach(btn => {\r\n                        btn.addEventListener('click', e => {\r\n                            e.preventDefault();\r\n                            this.#decrimentQuantity(e);\r\n                        });\r\n                    });\r\n                }\r\n                // =====================\r\n            }\r\n        }\r\n        else \r\n        {\r\n            // console.log(\"Basket Empty\");\r\n            if(document.querySelector('#cartItemHolder'))\r\n            {\r\n                document.querySelector('#cartItemHolder').innerHTML = `\r\n                    <li class=\"collection-item avatar\">\r\n                        <p>Your cart is empty</p>\r\n                        <p>\r\n                            <a href=\"#\" class=\"btn-large purple\">Back</a>\r\n                        </p>\r\n                    </li>\r\n                `;\r\n\r\n            }\r\n\r\n            if(document.querySelector('#checkout'))\r\n            {\r\n                document.querySelector('#checkout').innerHTML = `\r\n                    <div class=\"card-panel z-depth-0\" style=\"border: 1px solid #f3e5f5;\">\r\n                        <span class=\"purple-text text-darken-3\">\r\n                            <p><b>CheckOut</b></p>\r\n                        </span>\r\n                    </div>\r\n                `;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    #incrementQuantity(e)\r\n    {\r\n        e.preventDefault();\r\n        let id = (e.target.dataset.incrementid);\r\n\r\n        let search = this.#basket.find((x) => x.id === id);\r\n        if(search === undefined)\r\n            this.#basket.push({id: id, item: 1});\r\n        else\r\n            search.item += 1;\r\n\r\n        this.#generateCartUiItems();\r\n        this.#updateQuantity(id);\r\n        localStorage.setItem('cartData', JSON.stringify(this.#basket));\r\n        this.#cartGrandTotalForCheckout();\r\n    }\r\n\r\n    #decrimentQuantity(e)\r\n    {\r\n        e.preventDefault();\r\n        let id = (e.target.dataset.decrementid);\r\n\r\n        let search = this.#basket.find((x) => x.id === id);\r\n        if(search === undefined || search.item === 0)\r\n            return;\r\n        else \r\n            search.item -= 1;\r\n\r\n        this.#updateQuantity(id);\r\n        this.#basket = this.#basket.filter(product => product.item !== 0);\r\n        this.#generateCartUiItems();\r\n        localStorage.setItem('cartData', JSON.stringify(this.#basket));\r\n        this.#cartGrandTotalForCheckout();\r\n        \r\n    }\r\n\r\n    #updateQuantity(id)\r\n    {\r\n        let search = this.#basket.find(x => x.id === id);\r\n        document.getElementById(id).innerHTML = search.item;\r\n        this.#cartTotal();\r\n    }\r\n\r\n\r\n    #cartTotal()\r\n    {\r\n        \r\n        if(document.querySelectorAll('.cartAmount'))\r\n        {\r\n            let cartAmountTags = document.querySelectorAll('.cartAmount');\r\n            cartAmountTags.forEach(elem => {\r\n                elem.innerHTML = this.#basket.map((product) => product.item).reduce((x,y) => x+y,0);\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n    #removeItemFromCart = (e) => {\r\n\r\n        // console.log(e.target);\r\n        let id = e.target.dataset.removeid;\r\n        this.#basket = this.#basket.filter(product => product.id !== id);\r\n        localStorage.setItem('cartData', JSON.stringify(this.#basket));\r\n        this.#generateCartUiItems();\r\n\r\n    }\r\n\r\n    #cartGrandTotalForCheckout = () => {\r\n        if(this.#basket.length !== 0)\r\n        {\r\n            let amount = this.#basket.map((product) => {\r\n                let {id, item} = product;\r\n                let search = this.#sampleProductData.find(inventory => inventory.id === id);\r\n                return item * search.price;\r\n            }).reduce((x,y) => x+y,0);\r\n            \r\n            let grandTotals = document.querySelectorAll('.grand_total');\r\n            grandTotals.forEach(grand_total => {\r\n                grand_total.innerHTML = `N ${amount}`;\r\n            });\r\n\r\n        }\r\n        else \r\n        {\r\n            return;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\n\n//# sourceURL=webpack://cnapx-trials/./src/shoppingCart/cart_ui.js?");

/***/ }),

/***/ "./src/shoppingCart/sample_data.js":
/*!*****************************************!*\
  !*** ./src/shoppingCart/sample_data.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sampleProductData: () => (/* binding */ sampleProductData)\n/* harmony export */ });\nvar sampleProductData = [\r\n    {\r\n        id: 'gfu',\r\n        name: 'Cool Product',\r\n        price: 349,\r\n        img: './images/cart-images/img-1.jpg'\r\n    },\r\n    {\r\n        id: 'dki',\r\n        name: 'Jamming Fresh',\r\n        price: 959,\r\n        img: './images/cart-images/img-2.jpg'\r\n    },\r\n    {\r\n        id: 'bhf',\r\n        name: 'Swiss Boy',\r\n        price: 739,\r\n        img: './images/cart-images/img-3.jpg'\r\n    },\r\n    {\r\n        id: 'eoa',\r\n        name: 'Tom Bracket',\r\n        price: 237,\r\n        img: './images/cart-images/img-4.jpg'\r\n    },\r\n    \r\n];\r\n\n\n//# sourceURL=webpack://cnapx-trials/./src/shoppingCart/sample_data.js?");

/***/ })

}]);