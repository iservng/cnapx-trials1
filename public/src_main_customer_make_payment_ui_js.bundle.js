"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcnapx_trials"] = self["webpackChunkcnapx_trials"] || []).push([["src_main_customer_make_payment_ui_js"],{

/***/ "./src/main/customer_make_payment_ui.js":
/*!**********************************************!*\
  !*** ./src/main/customer_make_payment_ui.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CustomerMakePaymentUi: () => (/* binding */ CustomerMakePaymentUi)\n/* harmony export */ });\n/* harmony import */ var _utils_toast_it_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/toast_it.js */ \"./src/utils/toast_it.js\");\n/* harmony import */ var _utils_insert_into_DOM_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/insert_into_DOM.js */ \"./src/utils/insert_into_DOM.js\");\n/* harmony import */ var _utils_progress_loader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/progress_loader.js */ \"./src/utils/progress_loader.js\");\n\r\n\r\n\r\n\r\n\r\nclass CustomerMakePaymentUi\r\n{\r\n    #_mErrors;\r\n    #mErrorMsg;\r\n    #recipients;\r\n    constructor()\r\n    {\r\n        this.#_mErrors = 0;\r\n        this.#mErrorMsg = '';\r\n\r\n    }\r\n\r\n    createUi()\r\n    {\r\n        if(this.#_mErrors == 0)\r\n        {\r\n            let content = `\r\n            <div class=\"container\">\r\n\r\n                <div class=\"row\" style=\"margin-top: 3rem;\">\r\n\r\n                    <div class=\"col s12 hide-on-med-and-up center-align\">\r\n                        <img src=\"./images/userprofile.png\" alt=\"\">\r\n                        <br>\r\n                        <small class=\"blue-text text-darken-3\">\r\n                            <b> <a href=\"#\" class=\"sidenav-trigger\" data-target=\"mobile-demo\">John Danfodio</a></b>\r\n                        </small>\r\n                    </div>\r\n\r\n                    <div class=\"col s12 hide-on-small-only\">\r\n                        <img src=\"./images/userprofile.png\" alt=\"\">\r\n                        <br>\r\n                        <small class=\"blue-text text-darken-3\">\r\n                            <b><a href=\"#\" class=\"sidenav-trigger\" data-target=\"mobile-demo\">John Danfodio</a></b>\r\n                        </small>\r\n                    </div>\r\n\r\n\r\n                    \r\n\r\n                    <!-- \r\n                        PAGE TITLE (MAKE PAYMENT) \r\n                    -->\r\n                    <!--\r\n                    <div class=\"col s12\" style=\"margin-bottom: 2rem;\">\r\n                        <h5>\r\n                            <p>\r\n                                <small class=\"purple-text text-darken-3\">\r\n                                    <b>Make Payment</b>\r\n                                </small>\r\n                            </p>\r\n                        </h5>\r\n                        \r\n                    </div>\r\n                    -->\r\n                    <div class=\"col s12 hide-on-med-and-up center-align\">\r\n                        <h5>\r\n                            <p>\r\n                                <small class=\"purple-text text-darken-3\">\r\n                                    <b>Make Payment</b>\r\n                                </small>\r\n                            </p>\r\n                        </h5>\r\n                        <a href=\"#\" class=\"cancel\">cancel</a>\r\n                    </div>\r\n\r\n                    <div class=\"col s12 hide-on-small-only\">\r\n                    <h5>\r\n                        <p>\r\n                            <small class=\"purple-text text-darken-3\">\r\n                                <b>Make Payment</b>\r\n                            </small>\r\n                        </p>\r\n                    </h5>\r\n                    <a href=\"#\" class=\"cancel\">cancel</a>\r\n                    </div>\r\n                    \r\n\r\n\r\n\r\n\r\n                    <form id=\"customerMakePaymentForm\">\r\n                    <div class=\"col s12 m4 l4\" id=\"firstBox\">\r\n                        <div class=\"row\">\r\n                                <div class=\"card-panel white z-depth-0\">\r\n                                    <span class=\"blue-text text-darken-3\">\r\n\r\n                                    <p>\r\n                                        <label>\r\n                                            <input name=\"sender\" class=\"sender\" type=\"radio\" value=\"GTBank\"/>\r\n                                            <span class=\"purple-text\">\r\n                                                GT Bank\r\n                                            </span>\r\n                                        </label>\r\n                                    </p>\r\n                                    <div class=\"divider\"></div>\r\n                                    <p>\r\n                                        <label>\r\n                                            <input name=\"sender\" class=\"sender\" value=\"AccessBank\" type=\"radio\" />\r\n                                            <span class=\"purple-text\">\r\n                                                Access Bank\r\n                                            </span>\r\n                                        </label>\r\n                                    </p>\r\n                                    <div class=\"divider\"></div>\r\n                                    <p>\r\n                                        <label>\r\n                                            <input name=\"sender\" class=\"sender\" value=\"EcoBank\" type=\"radio\" />\r\n                                            <span class=\"purple-text\">\r\n                                                Eco Bank\r\n                                            </span>\r\n                                        </label>\r\n                                    </p>\r\n\r\n                                    </span>\r\n                                </div>\r\n                            \r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n                    <div class=\"col s12 m4 l4\" id=\"secondBox\">\r\n\r\n                        <div class=\"card-panel z-depth-0\">\r\n                                <div class=\"white-text\">\r\n\r\n                                    <p>\r\n                                        <b class=\"purple-text text-darken-3\">\r\n                                            Enter Amount\r\n                                        </b>\r\n                                    </p>\r\n                                    <p>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col s12\">\r\n\r\n                                            \r\n                                                <div class=\"input-field\">\r\n                                                    <input id=\"amount\" type=\"number\" class=\"validate\">\r\n\r\n                                                    <label for=\"amount\">Amount</label>\r\n                                                    <span class=\"helper-text\" data-error=\"wrong\" data-success=\"right\">\r\n                                                        Enter amount in figure\r\n                                                    </span>\r\n                                                </div>\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </p>\r\n                                \r\n                                </div>\r\n                            </div>\r\n                    </div>\r\n\r\n                    <div class=\"col s12 m4 l4\" id=\"thirdBox\">\r\n                           \r\n                    </div>\r\n                    </form>\r\n                        <div class=\"col s12 right-align\" style=\"margin-top: 6rem;\">\r\n                            <p>\r\n                                <div class=\"divider\"></div>\r\n                            </p>\r\n                            <small class=\"grey-text\"> Powered by </small>\r\n                            <b class=\"purple-text text-darken-3\">iservng</b>\r\n                        </div>\r\n\r\n                    \r\n                </div>\r\n\r\n            </div>\r\n            `;\r\n            (0,_utils_insert_into_DOM_js__WEBPACK_IMPORTED_MODULE_1__.insertIntoDOM)('main', content);\r\n\r\n\r\n            //Call the recipient function\r\n            this.#showRecipientInputField();\r\n\r\n\r\n\r\n\r\n\r\n            /**\r\n             * 1. CANCEL\r\n             * ----------\r\n             * Register event handler for the cancel-button that returns user to the dashboard ui.\r\n             */\r\n            if(document.querySelector('.cancel'))\r\n            {\r\n                \r\n                let cancelBtns = document.querySelectorAll('.cancel');\r\n                cancelBtns.forEach(cancel => {\r\n                    cancel.addEventListener('click', e => {\r\n                        e.preventDefault();\r\n\r\n                        __webpack_require__.e(/*! import() */ \"src_main_marchant_customer_profile_dashboard_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./marchant_customer_profile_dashboard.js */ \"./src/main/marchant_customer_profile_dashboard.js\"))\r\n                        .then(m => {\r\n                            let dashboard = new m.CustomerProfileDashboard();\r\n                            dashboard.createUi();\r\n                        })\r\n                        .catch(error => {\r\n                            console.log(error.message);\r\n                            (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_0__.toastIt)('red', 'Error! Unable to load UI.');\r\n                        });\r\n                        // -----------\r\n\r\n                    });\r\n                })\r\n            }\r\n\r\n\r\n\r\n\r\n            /**********************************************\r\n             * Adds an event handler for the submission of the customer-make-payment-form\r\n             */\r\n            if(document.querySelector('#customerMakePaymentForm'))\r\n            {\r\n                document.querySelector('#customerMakePaymentForm').addEventListener('submit', e => {\r\n                    e.preventDefault();\r\n                    //Call the check customer payment form checker class\r\n                    // console.log(e.target);..\r\n                    __webpack_require__.e(/*! import() */ \"src_main_check_customer_make_payment_form_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./check_customer_make_payment_form.js */ \"./src/main/check_customer_make_payment_form.js\"))\r\n                    .then(m => {\r\n                        let checker = new m.CheckCustomerMakePay(e.target);\r\n                        checker.processIt();\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error.message);\r\n                        (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_0__.toastIt)('red', 'Unable to load payment form');\r\n                    });\r\n                    // ----------------------\r\n                });\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n            /*******************************************\r\n             * Event handler for the click of the select recipient\r\n             */\r\n            if(document.querySelector('#browseRecipient'))\r\n            {\r\n                document.querySelector('#browseRecipient').addEventListener('click', e => {\r\n                    e.preventDefault();\r\n                    console.log();\r\n                    /*******************************\r\n                     * This where we call the class utility method for manupulating the recipient txt-input-tag to selcet-input-tag\r\n                     * These recipients are people whom user had sent money priviously\r\n                     */\r\n\r\n                    this.#loadRecipients();\r\n\r\n\r\n                });\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n        else \r\n        {\r\n            (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_0__.toastIt)('red', this.#mErrorMsg);\r\n            console.log(this.#mErrorMsg);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n    /********************************************* *\r\n        Class Utility methods for manipulating the the make-payment ui\r\n    */\r\n    #showRecipientInputField()\r\n    {\r\n        let content = `\r\n        <div class=\"card-panel z-depth-0\">\r\n            <div class=\"purple-text text-darken-3\">\r\n\r\n                <p>\r\n                    <b>Enter Recipient ID</b>\r\n                </p>\r\n                <p>\r\n                    <div class=\"row\">\r\n                        <div class=\"input-field col s12\">\r\n                            <input id=\"recipient\" type=\"text\" class=\"validate\">\r\n                            <label for=\"recipient\">example@cnapxpay</label>\r\n                        </div>\r\n\r\n                        <div class=\"right-align\">\r\n                            <a href=\"#\" id=\"browseRecipient\">Browse Recipient</a>\r\n                        </div>\r\n                    </div>\r\n                </p>\r\n\r\n                <p>\r\n                    <div class=\"row\">\r\n                        <div class=\"input-field col s12\">\r\n                            <input type=\"submit\" class=\"btn red accent-4\" value=\"pay now\">\r\n                        </div>\r\n                    </div>\r\n                </p>\r\n                                    \r\n            </div>\r\n        </div>\r\n        `;\r\n        (0,_utils_insert_into_DOM_js__WEBPACK_IMPORTED_MODULE_1__.insertIntoDOM)('#thirdBox', content);\r\n    }\r\n\r\n    async #loadRecipients()\r\n    {\r\n        //1. Put the progress loader\r\n        (0,_utils_progress_loader_js__WEBPACK_IMPORTED_MODULE_2__.progressLoader)('Working...', '#thirdBox');\r\n\r\n        //2. Make some Asynchronouse request for the number of reciecipient whom this particular user had previously transacted with in the past.\r\n        this.#recipients = [\r\n            {id: '1', acountId: 'Hussain@cnapxpay'},\r\n            {id: '2', acountId: 'Wasterhort@cnapxpay'},\r\n            {id: '3', acountId: 'Edwardho@cnapxpay'},\r\n        ];\r\n\r\n\r\n        //3. Format the above values for display\r\n        let recipientStr = ``;\r\n        this.#recipients.forEach(recipient => {\r\n            recipientStr += `\r\n            <option value=\"${recipient.acountId}\">\r\n                <small>${recipient.acountId}</small>\r\n            </option>\r\n            `;\r\n        });\r\n        \r\n\r\n\r\n\r\n        let content = `\r\n        <div class=\"card-panel z-depth-0\">\r\n            <div class=\"purple-text text-darken-3\">\r\n\r\n                <p>\r\n                    <b>Select Recipient ID</b>\r\n                </p>\r\n                <p>\r\n                    <div class=\"row\">\r\n\r\n                        <div class=\"input-field col s12\">\r\n                            <select id=\"recipient\">\r\n                                <option value=\"\" disabled selected>\r\n                                    Select\r\n                                </option>\r\n                                ${recipientStr}\r\n                            </select>\r\n                            <label>example@cnapxpay</label>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"right-align\">\r\n                            <a href=\"#\" id=\"writeRecipient\">\r\n                                Enter Recipient\r\n                            </a>\r\n                        </div>\r\n\r\n                    </div>\r\n                </p>\r\n\r\n                <p>\r\n                    <div class=\"row\">\r\n                        <div class=\"input-field col s12\">\r\n                            <input type=\"submit\" class=\"btn red accent-4\" value=\"pay now\">\r\n                        </div>\r\n                    </div>\r\n                </p>\r\n                \r\n            </div>\r\n        </div>\r\n        `;\r\n        (0,_utils_insert_into_DOM_js__WEBPACK_IMPORTED_MODULE_1__.insertIntoDOM)('#thirdBox', content);\r\n\r\n        //Activate the select tage\r\n        var elems = document.querySelectorAll('select');\r\n        M.FormSelect.init(elems);\r\n\r\n\r\n\r\n        //Register an event handler for the enter-recipient click event\r\n        if(document.querySelector('#writeRecipient'))\r\n        {\r\n            document.querySelector('#writeRecipient').addEventListener('click', e => {\r\n                e.preventDefault();\r\n                this.#showRecipientInputField();\r\n            });\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack://cnapx-trials/./src/main/customer_make_payment_ui.js?");

/***/ })

}]);