"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkcnapx_trials"] = self["webpackChunkcnapx_trials"] || []).push([["src_modal_handlers_process_create_account_form_js-_9adb0"],{

/***/ "./src/modal/handlers/process_create_account_form.js":
/*!***********************************************************!*\
  !*** ./src/modal/handlers/process_create_account_form.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CreateUserAccount: () => (/* binding */ CreateUserAccount)\n/* harmony export */ });\n/* harmony import */ var _utils_small_spinner_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/small_spinner.js */ \"./src/utils/small_spinner.js\");\n/* harmony import */ var _utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/toast_it.js */ \"./src/utils/toast_it.js\");\n/* harmony import */ var _utils_lower_remv_spaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/lower_remv_spaces.js */ \"./src/utils/lower_remv_spaces.js\");\n/* harmony import */ var _test_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../test.js */ \"./src/test.js\");\n/* harmony import */ var _utils_insert_into_DOM_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/insert_into_DOM.js */ \"./src/utils/insert_into_DOM.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! firebase/firestore */ \"./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n\r\n\r\n/**\r\n * THIS CLASS RECIEVE THE FORM OBJECT FOR CREATE-ACCOUNT\r\n * -------------------------------------------------------\r\n * Then user its internal methods for the processing of the form.\r\n * \r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// import { generateShortPassword } from \"../../utils/random_pass.js\";\r\n\r\nclass CreateUserAccount \r\n{\r\n    #_mErrors;\r\n    #mErrorMsg;\r\n    #form;\r\n    #userData;\r\n    constructor(createAcctForm)\r\n    {\r\n        this.#_mErrors = 0;\r\n        this.#mErrorMsg = ``;\r\n    \r\n        if(!createAcctForm)\r\n        {\r\n            this.#_mErrors++;\r\n            this.#mErrorMsg = ``;\r\n            (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', 'Invalid form submission');\r\n        }\r\n        else \r\n        {\r\n            let namePattern = /^([a-zA-Z]{3,20})(\\s)([a-zA-z]{3,20})(\\s)?([a-zA-Z]{3,20})?$/;\r\n            let phonePattern = /^(0)([7-9])([0-1])(\\d){8}$/;\r\n            let bvnPattern = /^[\\d]{11}$/;\r\n            let emailPatern = /^[a-zA-Z0-9@\\.-]{3,30}$/;\r\n            let passwordPatern = /^[a-zA-Z0-9@]{5,25}$/;\r\n\r\n            this.#form = createAcctForm;\r\n            if(!namePattern.test(this.#form.fullname.value.trim()))\r\n            {\r\n                \r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = \"Your full name is required!\";\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n                return;\r\n            }\r\n            else if(!phonePattern.test(this.#form.phone.value.trim()))\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = 'Phone number is required!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            }\r\n            else if(!bvnPattern.test(this.#form.bvn.value.trim()))\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = 'Your BVN number is required!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            }\r\n            else if(!emailPatern.test(this.#form.email.value.trim()))\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = this.#form.email.value + ' is Invalid!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n\r\n            }\r\n            else if(!passwordPatern.test(this.#form.password.value.trim()))\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = 'Your password is Invalid!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            }\r\n            else if(!this.#form.btnAction.value.trim())\r\n            {\r\n                this.#_mErrors++;\r\n                this.#mErrorMsg = 'Action not found!';\r\n                (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            }\r\n            \r\n            else \r\n            {\r\n\r\n                this.#userData = {\r\n                    name: this.#form.fullname.value.trim().toUpperCase(),\r\n                    phone: this.#form.phone.value.trim(),\r\n                    bvn: this.#form.bvn.value.trim(),\r\n                    email: this.#form.email.value.trim(),\r\n                    password: this.#form.password.value.trim()\r\n                };\r\n\r\n                /**\r\n                 * Make it available in the user session\r\n                 */\r\n                sessionStorage.setItem('btnAction', this.#form.btnAction.value);\r\n                sessionStorage.setItem('customerInfo', JSON.stringify(this.#userData));\r\n\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n  \r\n\r\n    registerAgent()\r\n    {\r\n        if(this.#_mErrors == 0)\r\n        {\r\n            //Process the account of the aggent\r\n            console.log(this.#userData);\r\n            let agentPassword = this.#userData.password;\r\n            delete this.#userData.password;\r\n            this.#userData['userType'] = 'agent';\r\n\r\n            //add the object to the database // #createAcount.\r\n            firebase_firestore__WEBPACK_IMPORTED_MODULE_5__.addDoc\r\n            \r\n\r\n        }\r\n        else \r\n        {\r\n            (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    /*******************\r\n     * Public API\r\n     * 704 x 371 modal dimenssion\r\n     */\r\n    checkCredentials()\r\n    {\r\n        if(this.#_mErrors == 0)\r\n        {\r\n            //Check if the account being register is an agent account this will check the session-variable\r\n            // if(sessionStorage.getItem('agentAccount'))\r\n            if(document.querySelector('#createAcountDiv'))\r\n            {\r\n                (0,_utils_small_spinner_js__WEBPACK_IMPORTED_MODULE_0__.smallSpinner)('Working...', '#createAcountDiv');\r\n                \r\n                let email = this.#userData['email'];\r\n                let password = this.#userData['password'];\r\n                \r\n                __webpack_require__.e(/*! import() */ \"src_modal_handlers_customer_registration_type_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../modal/handlers/customer_registration_type.js */ \"./src/modal/handlers/customer_registration_type.js\"))\r\n                .then(m => {\r\n                    let customerType = new m.CustomerRegisterType();\r\n                    customerType.createUi();\r\n                })\r\n                .catch(error => {\r\n                    console.log(error.message);\r\n                    (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', 'Unexpected Customer type not found');\r\n                });\r\n            }\r\n\r\n\r\n        }\r\n        else \r\n        {\r\n            (0,_utils_toast_it_js__WEBPACK_IMPORTED_MODULE_1__.toastIt)('red', this.#mErrorMsg);\r\n            console.log(this.#mErrorMsg);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    #removeModal()\r\n    {\r\n        //Remove Modal\r\n        let modals = document.querySelectorAll('.modal');\r\n        modals.forEach(instance => {\r\n            let inst = M.Modal.getInstance(instance);\r\n            inst.close();\r\n        })\r\n    }\r\n\r\n\r\n    \r\n\r\n\r\n\r\n    #errorReport()\r\n    {\r\n        // smallSpinner('Working...', '#createAcountDiv');\r\n        let content = `\r\n            <div class=\"row\">\r\n                <div class=\"col s12\">\r\n                    <div class=\"card pink lighten-5 z-depth-0\">\r\n                    <div class=\"card-content red-text\">\r\n                        <span class=\"card-title\">Error!</span>\r\n                        <p>\r\n                            It looks like your device does not have a proper network connection.\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"card-action\">\r\n                        <a href=\"#\" class=\"btn-small red darken-3 removeModal\">This is True</a>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n        (0,_utils_insert_into_DOM_js__WEBPACK_IMPORTED_MODULE_4__.insertIntoDOM)('#createAcountDiv', content);\r\n\r\n\r\n\r\n        if(document.querySelector('.removeModal'))\r\n        {\r\n            document.querySelector('.removeModal').addEventListener('click', e => {\r\n                e.preventDefault();\r\n                this.#removeModal();\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\n\n//# sourceURL=webpack://cnapx-trials/./src/modal/handlers/process_create_account_form.js?");

/***/ }),

/***/ "./src/test.js":
/*!*********************!*\
  !*** ./src/test.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getEmailAndPassword: () => (/* binding */ getEmailAndPassword)\n/* harmony export */ });\n\r\n// let namePattern = /^([a-zA-Z]{3,20})(\\s)([a-zA-z]{3,20})(\\s)?([a-zA-Z]{3,20})?$/;\r\n// let phonePattern = /^(0)([7-9])([0-1])(\\d){8}$/;\r\n// let name = 'Babangida Usman tooman';\r\n// console.log(namePattern.test(name));\r\n\r\n// let phone = '08134899043';\r\n// console.log(phonePattern.test(phone));\r\n\r\nlet name = 'babangidausmantooman';\r\nlet phone = '08134899043';\r\n\r\nfunction getEmailAndPassword(name, phone)\r\n{\r\n    let phone1part = phone.substring(0, 6);\r\n    let phone2part = phone.substring(phone1part.length);\r\n\r\n    let name1part = name.substring(0, 6);\r\n    let name2part = name.substring(name1part.length);\r\n\r\n    let email = name1part+phone2part+'@gmail.com';\r\n    let password = name2part+phone1part;\r\n    return { email, password };\r\n\r\n}\r\n\r\n\r\n\r\nlet re = getEmailAndPassword(name, phone);\r\n// console.log(re.email);\r\n// console.log(re.password);\r\n\r\n\r\n\r\n/**\r\n * The openCursor() function takes several argument.\r\n * 1. First we can limit the range of items that are retrieved by using a key range object. \r\n * 2. Second we can specify the direction that we want to iterate.\r\n * \r\n * \r\n * The success callback for cursor is a little special, the cursor-object itself id the result of the request.\r\n * \r\n * The actual key and value can be found on the \"key\" and \"value\" property of the cursor-object, if you want to keep going then you can call continue() on the cursor-object.\r\n * \r\n * \r\n * USING INDEX\r\n * ----------------\r\n * We can open two types of cursors on indexes\r\n * 1. A normal cursor maps the index property to the object in the object store\r\n * 2. A key-cursor maps the index property to the key used to store the objects in the object-store.\r\n * \r\n * \r\n * SPECIFYING THE RANGE AND DIRECTION OF CURSORS\r\n * ----------------------------------------------\r\n * If you would like to limit the range of values you will see in a cursor, \r\n * 1. We can use IDBKeyRange object and pass it as the first argument to openCursor().\r\n * \r\n * We can make a key range that only \r\n * 1. allow a single key or \r\n * 2. has a lower or upper bound\r\n * 3. or both lower and upper bound\r\n * \r\n * 1. The bound may be closed - ie the key range includes the given values \r\n * 2. The bounds may be open - ie the key range doe not include the given values\r\n * \r\n */\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://cnapx-trials/./src/test.js?");

/***/ }),

/***/ "./src/utils/lower_remv_spaces.js":
/*!****************************************!*\
  !*** ./src/utils/lower_remv_spaces.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   lowAndRemvSpce: () => (/* binding */ lowAndRemvSpce)\n/* harmony export */ });\n\r\nfunction lowAndRemvSpce(str) { \r\n    return str.replace(/\\s/g, '').toLowerCase(); \r\n}\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://cnapx-trials/./src/utils/lower_remv_spaces.js?");

/***/ })

}]);